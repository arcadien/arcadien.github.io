function collectKeywords(e){var g=[];var c=$("#top");c.find(".keywords").each(function(h){kws=$(this).text().split(", ");for(kw in kws){kw=kws[kw];var i=g[kw];if(undefined==i){g[kw]=1}else{g[kw]=i+1}}});if(true===e){var a=0;for(keyword in g){if(!g.hasOwnProperty(keyword)){continue}if(g[keyword]>a){a=g[keyword]}}var f=100;var b=f/a;for(keyword in g){if(!g.hasOwnProperty(keyword)){continue}g[keyword]=g[keyword]*b}}var d=[];for(keyword in g){if(!g.hasOwnProperty(keyword)){continue}d.push({text:keyword,size:g[keyword]})}return d}function presentSkills(h){var b=$(h);if(skel.isActive("small")){var f=collectKeywords(false);f.sort=function c(k){var j=[];for(key in this){if(this.hasOwnProperty(key)&&this[key]!==c){j.push(this[key])}}return j.sort(k)};var d=f.sort(function(k,j){return(j.size-k.size)});var e=$("<ul style='float: left;'/>").appendTo(b);var a=0;d.forEach(function(j){if(j.size>1){if(a==5){e=$("<ul style='float: left; margin-left : 20px;'/>").appendTo(b);a=0}$("<li />").html(j.text).appendTo(e);a++}})}else{var i=d3.scale.category20();d3.layout.cloud().size([800,300]).words(collectKeywords(true)).padding(5).rotate(function(){return Math.floor(Math.random()*16-8)}).font("AwsomeFont").fontSize(function(j){return j.size}).on("end",g).start()}function g(j){d3.select("#skillCloud").append("svg").attr("width",800).attr("height",300).append("g").attr("transform","translate(400,150)").selectAll("text").data(j).enter().append("text").style("font-size",function(k){return k.size+"px"}).style("font-family","Impact").style("fill",function(l,k){return i(k)}).attr("text-anchor","middle").attr("transform",function(k){return"translate("+[k.x,k.y]+")rotate("+k.rotate+")"}).text(function(k){return k.text})}};