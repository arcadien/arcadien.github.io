var WORD_LIST=undefined;function collectKeywords(e){WORD_LIST=[];var c=$("#top");c.find(".keywords").each(function(g){kws=$(this).text().split(", ");for(kw in kws){kw=kws[kw];var h=WORD_LIST[kw];if(undefined==h){WORD_LIST[kw]=1}else{WORD_LIST[kw]=h+1}}});if(true===e){var a=0;for(keyword in WORD_LIST){if(!WORD_LIST.hasOwnProperty(keyword)){continue}if(WORD_LIST[keyword]>a){a=WORD_LIST[keyword]}}var f=100;if(skel.isActive("xlarge")){f=200}else{if(skel.isActive("large")){f=150}else{if(skel.isActive("medium")){f=100}else{if(skel.isActive("small")){f=100}else{if(skel.isActive("xsmall")){f=100}}}}}var b=f/a;for(keyword in WORD_LIST){if(!WORD_LIST.hasOwnProperty(keyword)){continue}WORD_LIST[keyword]=WORD_LIST[keyword]*b}}var d=[];for(keyword in WORD_LIST){if(!WORD_LIST.hasOwnProperty(keyword)){continue}d.push({text:keyword,size:WORD_LIST[keyword]})}return d}function presentSkills(i){var b=$(i);$("#skillCloud").empty();if(undefined==WORD_LIST){WORD_LIST=collectKeywords(true)}if(skel.isActive("skillcloud")){var j=d3.scale.category20();d3.layout.cloud().size([600,400]).words(WORD_LIST).padding(5).rotate(function(){return Math.floor(Math.random()*16-8)}).font("Source Sans Pro").fontSize(function(k){return k.size}).on("end",h).start();function h(k){d3.select("#skillCloud").append("svg").attr("width",600).attr("height",400).append("g").attr("transform","translate(300,200)").selectAll("text").data(k).enter().append("text").style("font-size",function(l){return l.size+"px"}).style("font-family","Source Sans Pro").style("fill",function(m,l){return j(l)}).attr("text-anchor","middle").attr("transform",function(l){return"translate("+[l.x,l.y]+")rotate("+l.rotate+")"}).text(function(l){return l.text})}}else{var g=WORD_LIST.slice();g.sort=function d(l){var k=[];for(key in this){if(this.hasOwnProperty(key)&&this[key]!==d){k.push(this[key])}}return k.sort(l)};var e=g.sort(function(l,k){return(k.size-l.size)});var f=$("<ul style='float: left;'/>").appendTo(b);var a=0;var c=1;e.forEach(function(k){if(k.size>1&&c<16){if(a==5){f=$("<ul style='float: left; margin-left : 20px;'/>").appendTo(b);a=0}if(c==15){var l=$("html").attr("lang");if(l=="fr"){$("<li />").html("et plus encore!").appendTo(f)}else{$("<li />").html("and more!").appendTo(f)}}else{$("<li />").html(k.text).appendTo(f)}a++;c++}})}};