var WORD_LIST=undefined;function collectKeywords(e){WORD_LIST=[];var c=$("#top");c.find(".keywords").each(function(g){kws=$(this).text().split(", ");for(kw in kws){kw=kws[kw];var h=WORD_LIST[kw];if(undefined==h){WORD_LIST[kw]=1}else{WORD_LIST[kw]=h+1}}});if(true===e){var a=0;for(keyword in WORD_LIST){if(!WORD_LIST.hasOwnProperty(keyword)){continue}if(WORD_LIST[keyword]>a){a=WORD_LIST[keyword]}}var f=100;if(skel.isActive("xlarge")){f=200}else{if(skel.isActive("large")){f=150}else{if(skel.isActive("medium")){f=100}else{if(skel.isActive("small")){f=100}else{if(skel.isActive("xsmall")){f=100}}}}}var b=f/a;for(keyword in WORD_LIST){if(!WORD_LIST.hasOwnProperty(keyword)){continue}WORD_LIST[keyword]=WORD_LIST[keyword]*b}}var d=[];for(keyword in WORD_LIST){if(!WORD_LIST.hasOwnProperty(keyword)){continue}d.push({text:keyword,size:WORD_LIST[keyword]})}return d}function draw(b){var a=d3.scale.category20();d3.select("#skillCloud").append("svg").attr("width",600).attr("height",400).append("g").attr("transform","translate(300,200)").selectAll("text").data(b).enter().append("text").style("font-size",function(c){return c.size+"px"}).style("font-family","Source Sans Pro").style("fill",function(e,c){return a(c)}).attr("text-anchor","middle").attr("transform",function(c){return"translate("+[c.x,c.y]+")rotate("+c.rotate+")"}).text(function(c){return c.text})}function presentSkills(a){var d=$(a);$("#skillCloud").empty();if(undefined==WORD_LIST){WORD_LIST=collectKeywords(true)}if(skel.isActive("skillcloud")){d3.layout.cloud().size([600,400]).words(WORD_LIST).padding(5).rotate(function(){return Math.floor(Math.random()*16-8)}).font("Source Sans Pro").fontSize(function(i){return i.size}).on("end",draw).start()}else{var h=WORD_LIST.slice();h.sort=function f(j){var i=[];for(key in this){if(this.hasOwnProperty(key)&&this[key]!==f){i.push(this[key])}}return i.sort(j)};var b=h.sort(function(j,i){return(i.size-j.size)});var e=$("<ul style='float: left;'/>").appendTo(d);var c=0;var g=1;b.forEach(function(i){if(i.size>1&&g<16){if(c==5){e=$("<ul style='float: left; margin-left : 20px;'/>").appendTo(d);c=0}if(g==15){var j=$("html").attr("lang");if(j=="fr"){$("<li />").html("et plus encore!").appendTo(e)}else{$("<li />").html("and more!").appendTo(e)}}else{$("<li />").html(i.text).appendTo(e)}c++;g++}})}};